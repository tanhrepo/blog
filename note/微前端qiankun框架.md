# 	微前端qiankun框架

微前端是最近一年国内前端领域被频繁提及的关键字，虽然它并不是一个全新的领域/技术，但很显然在当今越来越多的前端应用即将步入第 3 个、第 5 个甚至更久的年头的背景下，如何给 巨石应用/遗产应用 注入新鲜的技术血液已经成为我们不得不正视的问题，而微前端正是解决这类问题的一个非常合适的解决方案。

> qiankun 是一个生产可用的微前端框架，它基于 single-spa，具备 js 沙箱、样式隔离、HTML Loader、预加载 等微前端系统所需的能力。qiankun 可以用于任意 js 框架，微应用接入像嵌入一个 iframe 系统一样简单。



qiankun@2.0 将跳出 route-based 的微前端场景，**提供更加通用的微应用加载能力**，让用户可以更加自由的组合微应用来搭建产品。

而在 2.0 版本中，你可以同时激活多个微应用，而微应用之间可以保持互不干扰。

**在多应用场景下，每个微应用的沙箱都是相互隔离的，也就是说每个微应用对全局的影响都会局限在微应用自己的作用域内。**比如 A 应用在 `window` 上新增了个属性 `test`，这个属性只能在 A 应用自己的作用域通过 `window.test` 获取到，主应用或者其他微应用都无法拿到这个变量。

> 但是注意，页面上不能同时显示多个依赖于路由的微应用，因为浏览器只有一个 url，如果有多个依赖路由的微应用同时被激活，那么大概率会导致其中一个 404。

为了更方便的同时装载多个微应用，我们提供了一个全新的 API `loadMicroApp` ，用于手动控制微应用：



```ts
import { loadMicroApp } from 'qiankun';

/** 手动加载一个微应用 */
const microApp = loadMicroApp(
  {
    name: "microApp",
    entry: "https://localhost:7001/micro-app.html",
    container: "#microApp"
  }
)

// 手动卸载
microApp.mountPromise.then(() => microApp.unmount());
```